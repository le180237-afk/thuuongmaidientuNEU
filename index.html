<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D·ªát M·ªôc - Qu√† t·∫∑ng Xanh</title>

    <!-- 1. Th∆∞ vi·ªán giao di·ªán Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. C·∫•u h√¨nh m√†u s·∫Øc th∆∞∆°ng hi·ªáu cho Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bgPrimary: '#F7F6F0',
                        accentYellow: '#FCEB9C',
                        accentGreen: '#A2D396',
                        accentDarkGreen: '#6A994E',
                        textDark: '#5b402f',
                    },
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                        mono: ['Quicksand', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- 3. Th∆∞ vi·ªán React (C·ªët l√µi ƒë·ªÉ ch·∫°y web) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- 4. Babel (Gi√∫p tr√¨nh duy·ªát hi·ªÉu code React) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 5. Font ch·ªØ Google -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700;900&family=Lora:wght@400;700&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F7F6F0; }
        /* Hi·ªáu ·ª©ng loading */
        .loader { border: 3px solid #f3f3f3; border-radius: 50%; border-top: 3px solid #6A994E; width: 20px; height: 20px; -webkit-animation: spin 1s linear infinite; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <!-- N∆°i ·ª©ng d·ª•ng s·∫Ω hi·ªÉn th·ªã -->
    <div id="root"></div>

    <!-- CODE ·ª®NG D·ª§NG B·∫ÆT ƒê·∫¶U T·ª™ ƒê√ÇY -->
    <script type="text/babel">
        // L·∫•y c√°c h√†m t·ª´ th∆∞ vi·ªán React ra ƒë·ªÉ d√πng
        const { useState, useEffect } = React;

        // --- 1. ƒê·ªäNH NGHƒ®A ICON (ƒê·ªÉ kh√¥ng b·ªã l·ªói import lucide-react) ---
        // Thay v√¨ import, ta v·∫Ω tr·ª±c ti·∫øp icon b·∫±ng SVG
        const Icon = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const ShoppingBagIcon = () => <Icon><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></Icon>;
        const UserIcon = () => <Icon><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></Icon>;
        const HomeIcon = () => <Icon><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></Icon>;
        const HeartIcon = () => <Icon><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5 4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></Icon>;
        const ZapIcon = () => <Icon><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></Icon>;
        const MenuIcon = () => <Icon><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></Icon>;
        const ShirtIcon = () => <Icon><path d="M20.38 3.4a1.43 1.43 0 0 0-1.26-.81H14a2 2 0 0 1-4 0H4.88a1.43 1.43 0 0 0-1.27.81L2 7.7a1.43 1.43 0 0 0 .8 1.83l1.2 3.6V20a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-6.87l1.2-3.6a1.43 1.43 0 0 0 .8-1.83l-1.62-4.3z"/></Icon>;
        const LayersIcon = () => <Icon><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></Icon>;
        const DollarSignIcon = () => <Icon><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></Icon>;

        // --- 2. D·ªÆ LI·ªÜU GI·∫¢ L·∫¨P ---
        const products = [
            { id: 1, name: "N·∫øn Th∆°m B√£ C√† Ph√™", price: "95.000", ecoTag: "T√°i Sinh", icon: "‚òï" },
            { id: 2, name: "Thi·ªáp Gi·∫•y H·∫°t Gi·ªëng", price: "45.000", ecoTag: "Gieo M·∫ßm", icon: "üå±" },
            { id: 3, name: "T√∫i Th∆°m V·ªè Cam Qu√Ωt", price: "70.000", ecoTag: "H∆∞∆°ng Th∆°m", icon: "üçä" },
            { id: 4, name: "Dreamcatcher V·∫£i Th·ª´a", price: "120.000", ecoTag: "Gi·∫£m R√°c", icon: "üåô" },
        ];

        const features = [
            { icon: <ZapIcon/>, title: "Qu√† t·∫∑ng ƒê·ªôc ƒë√°o", desc: "Kh√¥ng ƒë·ª•ng h√†ng" },
            { icon: <HeartIcon/>, title: "Th√¢n thi·ªán M√¥i tr∆∞·ªùng", desc: "B·ªÅn v·ªØng t·ª´ t√¢m" },
            { icon: <MenuIcon/>, title: "ChƒÉm s√≥c C√° nh√¢n", desc: "L·ªùi ch√∫c √Ω nghƒ©a" },
        ];

        // --- 3. C√ÅC COMPONENT GIAO DI·ªÜN ---

        // Component: T·∫°o L·ªùi Ch√∫c (D√πng API gi·∫£ l·∫≠p ƒë·ªÉ tr√°nh l·ªô Key)
        const GreetingCardGenerator = ({ selectedProduct }) => {
            const [occasion, setOccasion] = useState('');
            const [tone, setTone] = useState('');
            const [generatedText, setGeneratedText] = useState('');
            const [isLoading, setIsLoading] = useState(false);

            const generateGreeting = () => {
                if (!occasion || !tone) {
                    alert('Vui l√≤ng nh·∫≠p D·ªãp t·∫∑ng v√† C·∫£m x√∫c!');
                    return;
                }
                setIsLoading(true);
                // Gi·∫£ l·∫≠p API tr·∫£ v·ªÅ sau 1.5 gi√¢y (ƒê·ªÉ demo ch·∫°y m∆∞·ª£t m√† kh√¥ng c·∫ßn API Key)
                setTimeout(() => {
                    setGeneratedText(`"Nh√¢n d·ªãp ${occasion}, mong r·∫±ng m√≥n qu√† ${selectedProduct.name} nh·ªè b√© n√†y s·∫Ω mang ƒë·∫øn cho b·∫°n ni·ªÅm vui gi·∫£n d·ªã nh∆∞ng ·∫•m √°p. Ch√∫c b·∫°n lu√¥n an y√™n nh∆∞ ch√≠nh s·ª± m·ªôc m·∫°c c·ªßa thi√™n nhi√™n."`);
                    setIsLoading(false);
                }, 1500);
            };

            return (
                <div className="p-4 mt-6 rounded-xl border border-dashed border-accentGreen bg-white">
                    <h3 className="text-xl font-bold mb-3 flex items-center text-accentDarkGreen font-serif">
                        <span className="mr-2">‚ú®</span> ƒê·ªÅ Xu·∫•t L·ªùi Ch√∫c
                    </h3>
                    <div className="space-y-3">
                        <input type="text" value={selectedProduct.name} disabled className="w-full p-2 border rounded-lg bg-gray-100 text-textDark text-sm" />
                        <input type="text" value={occasion} onChange={(e) => setOccasion(e.target.value)} className="w-full p-2 border rounded-lg text-sm border-accentGreen focus:outline-none" placeholder="D·ªãp (VD: Sinh nh·∫≠t)..." />
                        <input type="text" value={tone} onChange={(e) => setTone(e.target.value)} className="w-full p-2 border rounded-lg text-sm border-accentGreen focus:outline-none" placeholder="C·∫£m x√∫c (VD: ·∫§m √°p)..." />
                        
                        <button onClick={generateGreeting} disabled={isLoading} className="w-full py-2 rounded-lg text-white font-semibold text-sm bg-accentDarkGreen hover:opacity-90 flex justify-center items-center">
                            {isLoading ? <div className="loader"></div> : "T·∫°o L·ªùi Ch√∫c Ngay"}
                        </button>
                    </div>
                    {generatedText && (
                        <div className="mt-4 p-3 border border-accentGreen rounded-lg bg-bgPrimary">
                            <p className="text-sm italic leading-relaxed text-textDark font-serif">{generatedText}</p>
                            <p className="text-right text-xs mt-2 text-gray-500">‚Äî D·ªát M·ªôc AI</p>
                        </div>
                    )}
                </div>
            );
        };

        // Component: Th·∫ª S·∫£n Ph·∫©m
        const ProductCard = ({ product, onSelectProduct }) => (
            <div className="w-full bg-white rounded-xl shadow-md overflow-hidden flex flex-col hover:shadow-lg transition-shadow">
                <div className="h-40 flex items-center justify-center bg-accentYellow">
                    <span className="text-5xl">{product.icon}</span>
                </div>
                <div className="p-3 flex flex-col justify-between flex-grow">
                    <div>
                        <div className="text-xs font-medium uppercase px-2 py-0.5 rounded-full inline-block bg-accentGreen text-white mb-1">{product.ecoTag}</div>
                        <h3 className="text-lg font-semibold text-textDark font-mono truncate">{product.name}</h3>
                        <p className="text-xl font-bold text-accentDarkGreen font-serif">{product.price}‚Ç´</p>
                    </div>
                    <div className="mt-3 space-y-2">
                        <button onClick={() => onSelectProduct(product)} className="w-full py-2 rounded-lg text-white text-sm font-semibold bg-accentDarkGreen">Th√™m v√†o Gi·ªè</button>
                        <button onClick={() => onSelectProduct(product)} className="w-full py-2 rounded-lg text-sm font-semibold border border-accentDarkGreen text-accentDarkGreen">Vi·∫øt L·ªùi Ch√∫c</button>
                    </div>
                </div>
            </div>
        );

        // Component: Trang Ch·ªß
        const HomeView = () => {
            const [selectedProduct, setSelectedProduct] = useState(null);
            return (
                <div className="pt-4 pb-24 px-4 max-w-4xl mx-auto">
                    {/* Banner */}
                    <div className="bg-white rounded-xl p-6 mb-6 shadow-md border-t-4 border-accentDarkGreen">
                        <h2 className="text-2xl font-bold mb-2 text-accentDarkGreen font-serif">D·ªát M·ªôc - Qu√† t·∫∑ng √Ω nghƒ©a</h2>
                        <p className="text-textDark mb-4">G√≥i gh√©m y√™u th∆∞∆°ng trong t·ª´ng s·∫£n ph·∫©m t√°i sinh.</p>
                        <div className="flex justify-around text-center">
                            {features.map((f, i) => (
                                <div key={i} className="flex flex-col items-center">
                                    <div className="text-accentDarkGreen mb-1">{f.icon}</div>
                                    <p className="text-xs font-bold text-textDark">{f.title}</p>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Danh s√°ch s·∫£n ph·∫©m */}
                    <h3 className="text-xl font-bold mb-4 text-textDark font-mono">S·∫£n ph·∫©m n·ªïi b·∫≠t</h3>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                        {products.map(p => <ProductCard key={p.id} product={p} onSelectProduct={setSelectedProduct} />)}
                    </div>

                    {/* Khu v·ª±c t·∫°o l·ªùi ch√∫c */}
                    {selectedProduct && <div className="mt-8"><GreetingCardGenerator selectedProduct={selectedProduct} /></div>}
                </div>
            );
        };

        // Component: Green Fit (C·ªông ƒë·ªìng)
        const GreenFitHub = () => {
            const [points, setPoints] = useState(550);
            return (
                <div className="pt-4 pb-24 px-4 max-w-4xl mx-auto">
                    <div className="bg-white rounded-xl p-6 mb-6 shadow-md">
                        <h2 className="text-2xl font-bold mb-2 text-accentDarkGreen font-serif flex items-center"><span className="mr-2"><HeartIcon/></span> Green Inspire Zone</h2>
                        <div className="bg-accentGreen/20 p-4 rounded-lg flex justify-between items-center mt-4 border border-accentGreen">
                            <div>
                                <p className="text-sm text-textDark">ƒêi·ªÉm Xanh c·ªßa b·∫°n</p>
                                <p className="text-4xl font-bold text-accentDarkGreen font-mono">{points}</p>
                            </div>
                            <button className="px-4 py-2 bg-accentDarkGreen text-white rounded-lg text-sm font-bold">ƒê·ªïi Qu√†</button>
                        </div>
                    </div>
                    <div className="bg-white rounded-xl p-6 shadow-md border border-dashed border-accentDarkGreen text-center">
                        <h3 className="font-bold text-textDark mb-2">AI Ph·ªëi ƒê·ªì B·ªÅn V·ªØng</h3>
                        <p className="text-sm text-gray-500 mb-4">Upload ·∫£nh t·ªß ƒë·ªì ƒë·ªÉ nh·∫≠n g·ª£i √Ω mix-match!</p>
                        <button className="w-full py-3 bg-accentDarkGreen text-white rounded-lg font-semibold">Th·ª≠ Ngay</button>
                    </div>
                </div>
            );
        };

        // Component: App Ch√≠nh
        const App = () => {
            const [view, setView] = useState('home');

            const renderView = () => {
                if (view === 'home') return <HomeView />;
                if (view === 'community') return <GreenFitHub />;
                if (view === 'cart') return <div className="h-screen flex items-center justify-center text-textDark">Gi·ªè h√†ng ƒëang tr·ªëng üõí</div>;
                if (view === 'profile') return <div className="h-screen flex items-center justify-center text-textDark">Trang c√° nh√¢n c·ªßa Vinh üë§</div>;
            };

            return (
                <div className="min-h-screen bg-bgPrimary text-textDark font-sans">
                    {/* Header */}
                    <header className="fixed top-0 w-full bg-bgPrimary/95 backdrop-blur shadow-sm z-50 px-6 py-4 flex justify-between items-center">
                        <h1 className="text-2xl font-bold text-accentDarkGreen font-serif cursor-pointer" onClick={() => setView('home')}>D·ªát M·ªôc</h1>
                        <button onClick={() => setView('cart')} className="text-accentDarkGreen"><ShoppingBagIcon /></button>
                    </header>

                    {/* Main Content */}
                    <main className="pt-16">
                        {renderView()}
                    </main>

                    {/* Bottom Nav */}
                    <nav className="fixed bottom-0 w-full bg-white border-t border-gray-200 py-3 px-6 flex justify-around shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50">
                        <button onClick={() => setView('home')} className={`flex flex-col items-center ${view === 'home' ? 'text-accentDarkGreen' : 'text-gray-400'}`}>
                            <HomeIcon /> <span className="text-[10px] font-bold mt-1">Trang ch·ªß</span>
                        </button>
                        <button onClick={() => setView('community')} className={`flex flex-col items-center ${view === 'community' ? 'text-accentDarkGreen' : 'text-gray-400'}`}>
                            <LayersIcon /> <span className="text-[10px] font-bold mt-1">C·ªông ƒë·ªìng</span>
                        </button>
                        <button onClick={() => setView('profile')} className={`flex flex-col items-center ${view === 'profile' ? 'text-accentDarkGreen' : 'text-gray-400'}`}>
                            <UserIcon /> <span className="text-[10px] font-bold mt-1">C√° nh√¢n</span>
                        </button>
                    </nav>
                </div>
            );
        };

        // K√≠ch ho·∫°t React
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
